.TH LOGKSI-SIGN 1
.\"
.SH NAME
\fBlogksi sign \fR- Sign logs with KSI log signature tool.
.\"
.SH SYNOPSIS
.HP 4
\fBlogksi sign -i \fIin.logsig\fR [\fB-o \fIout.logsig\fR] \fB-S \fIURL \fR[\fB--aggr-user \fIuser \fB--aggr-key \fIkey\fR] [\fImore options\fR]
.\"
.SH DESCRIPTION
Signs the unsigned log blocks in a given log signaure file. User must have access to KSI signing service (KSI Aggregator) for signing.
.LP
Acceptable log signature file format is achieved by using \fBlogksi integrate\fR.
.LP
Note that until not extended, the signatures can be verified using the copy of calendar blockchain at KSI Extender (calendar-based verification) or using the PKI signature in the calendar authentication record (key-based verification, temporary only). See \fBlogksi-verify\fR(1) for details.
.\"
.SH OPTIONS
.TP
\fB-i \fIin.logsig\fR
Specify the log signature file containing the log blocks to be signed. If left blank or '-' is used, data is read from \fIstdin\fR.
.\"
.TP
\fB-o \fIout.logsig\fR
Define the output file's path for the signature log file. Use '-' as file name to redirect signed binary stream to \fIstdout\fR. If not specified, the output is saved as \fIin.logsig\fR to the same directory where the input file is located. The backup of the original log signature file will be saved to \fIin.logsig.bak\fR. If output file name is explicitly specified, the existing file will always be overwritten.
.\"
.TP
\fB-S \fIURL\fR
Specify the signing service (KSI Aggregator) URL.
.\"
.TP
\fB--aggr-user \fIuser\fR
Specify the username for signing service.
.\"
.TP
\fB--aggr-key \fIkey\fR
Specify the HMAC key for signing service.
.\"
.TP
\fB-d\fR
Print detailed information about processes and errors to \fIstderr\fR.
.\"
.TP
\fB--conf \fIfile\fR
Read configuration options from given file. It must be noted that configuration options given explicitly on command line will override the ones in the configuration file. See \fBlogksi-conf\fR(5) for more information.
.\"
.TP
\fB--log \fIfile\fR
Write libksi log to given file. Use '-' as file name to redirect log to \fIstdout\fR.
.br
.\"
.SH EXIT STATUS
See \fBlogksi\fR(1) for more information.
.\"
.SH EXAMPLES
In the following examples it is assumed that KSI service configuration options (URLs, access credentials) are defined. See \fBlogksi-conf\fR(5) for more information.
.\"
.TP 2
\fB1
To sign a log signatue file \fIin.logsig\fR and save as new signature file \fIout.logsig\fR:
.LP
.RS 4
\fBlogksi sign -i \fIin.logsig\fR \fB-o \fIout.logsig\fR
.RE
.\"
.TP 2
\fB2
To sign a log signature file \fIin.logsig\fR and save the result in the same file after creating the respective backup file \fIin.logsig.bak\fR:
.LP
.RS 4
\fBlogksi sign -i \fIin.logsig\fR
.RE
.\"
.SH ENVIRONMENT
Use the environment variable \fBLOGKSI_CONF\fR to define the default configuration file. See \fBlogksi-conf\fR(5) for more information.
.LP
.SH AUTHOR
Guardtime AS, http://www.guardtime.com/
.LP
.SH SEE ALSO
\fBlogksi\fR(1), \fBlogksi-integrate\fR(1), \fBlogksi-extend\fR(1), \fBlogksi-verify\fR(1), \fBlogksi-pubfile\fR(1), \fBlogksi-conf\fR(5)
